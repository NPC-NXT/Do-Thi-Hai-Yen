<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Floating Hearts â€” ðŸ’–</title>
  <meta name="description" content="Trang tim bay lÃ£ng máº¡n â€” truyá»n thÃ´ng Ä‘iá»‡p chÃ­nh qua ?text= trong URL." />

  <style>
    :root{
      --bg-1: #0b0710;
      --bg-2: #12081a;
      --accent: #ff6b9a;
      --accent-2: #ff2d95;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,50,120,0.06), transparent),
                  radial-gradient(800px 400px at 90% 80%, rgba(255,20,100,0.04), transparent),
                  linear-gradient(180deg,var(--bg-1),var(--bg-2));
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:clamp(16px,4vmin,48px);
    }

    /* Container for floating hearts */
    .hearts {
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:0;
      overflow:hidden;
    }

    .heart {
      position:absolute;
      left:0;
      top:0;
      transform-origin:center center;
      will-change:transform,left,top,opacity,filter;
      user-select:none;
      filter: drop-shadow(0 10px 30px rgba(255,60,120,0.08));
      opacity:0.95;
    }

    .heart .shape {
      display:block;
      width:1em;
      height:1em;
      background:var(--accent);
      position:relative;
      transform: rotate(-45deg);
      border-radius:0.25em;
      box-shadow:
        0 0 18px rgba(255,110,156,0.18),
        0 0 36px rgba(255,60,140,0.12);
    }
    .heart .shape::before,
    .heart .shape::after{
      content:"";
      position:absolute;
      width:1em;
      height:1em;
      background:var(--accent);
      border-radius:50%;
      top:-50%;
      left:0;
      box-shadow:
        0 0 18px rgba(255,110,156,0.18),
        0 0 36px rgba(255,60,140,0.12);
    }
    .heart .shape::after{
      left:50%;
      top:0;
    }

    .heart.variant-2 .shape,
    .heart.variant-2 .shape::before,
    .heart.variant-2 .shape::after{
      background:var(--accent-2);
    }

    /* Center card with only the main message (removed tips as requested) */
    .card{
      position:relative;
      z-index:3;
      max-width:1100px;
      width:100%;
      text-align:center;
      padding:clamp(24px,6vmin,64px);
      border-radius:18px;
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 6px 40px rgba(0,0,0,0.6);
      backdrop-filter: blur(6px) saturate(120%);
      border: 1px solid rgba(255,255,255,0.03);
    }

    .message{
      font-weight:700;
      color:#fff;
      font-size: clamp(1.6rem,6vw,3.2rem);
      line-height:1.05;
      text-shadow:
        0 6px 18px rgba(0,0,0,0.6),
        0 0 18px rgba(255,80,140,0.18);
      word-break:break-word;
      white-space:pre-wrap;
    }

    @media (prefers-reduced-motion: reduce) {
      .heart{ transition:none; animation:none; opacity:.95 }
    }

    @media (max-width:520px){
      .card{ padding:20px;border-radius:14px }
      .message{ font-size:clamp(1.4rem,7vw,2.2rem) }
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <main class="card" role="main" aria-labelledby="main-message">
    <h1 id="main-message" class="message">Gá»­i yÃªu thÆ°Æ¡ngâ€¦</h1>
  </main>

  <script>
    // Láº¥y message tá»« ?text= (gÃ¡n an toÃ n báº±ng textContent)
    (function(){
      const params = new URLSearchParams(location.search);
      const raw = params.get('text');
      const message = raw ? raw : 'Em lÃ m trÃ¡i tim anh/ chá»‹ bay bá»•ng.';
      const el = document.getElementById('main-message');
      el.textContent = message;
      document.title = message + ' â€” ðŸ’–';
    })();

    // Táº¡o trÃ¡i tim bay xung quanh mÃ n hÃ¬nh, bay liÃªn tá»¥c (JS-driven animation)
    (function(){
      const container = document.getElementById('hearts');
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const HEART_COUNT = prefersReduced ? 8 : 32;

      const vw = () => Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      const vh = () => Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
      const rand = (min, max) => Math.random() * (max - min) + min;
      const clamp = (v, a, b) => Math.max(a, Math.min(b, v));

      const hearts = [];

      for(let i=0;i<HEART_COUNT;i++){
        const el = document.createElement('div');
        el.className = 'heart ' + (Math.random() > 0.7 ? 'variant-2' : '');
        const shape = document.createElement('span');
        shape.className = 'shape';
        el.appendChild(shape);

        // random size
        const size = rand(14, 86); // px
        el.style.fontSize = size + 'px';

        // initial position anywhere on screen
        const x = rand(0, vw());
        const y = rand(0, vh());

        // velocity (slow drifting)
        const speed = rand(0.05, 0.6); // base speed multiplier
        const angle = rand(0, Math.PI * 2);
        const vx = Math.cos(angle) * speed;
        const vy = Math.sin(angle) * speed;

        // rotation and spin
        const rot = rand(0, 360);
        const spin = rand(-0.05, 0.12); // deg per ms

        // subtle pulsate
        const scale = rand(0.9, 1.15);

        // initial style
        el.style.left = x + 'px';
        el.style.top = y + 'px';
        el.style.transform = `translate(-50%,-50%) rotate(${rot}deg) scale(${scale})`;
        el.style.opacity = rand(0.7, 1);

        container.appendChild(el);

        hearts.push({
          el, x, y, vx, vy, rot, spin, scale,
          wiggleFactor: rand(0.02, 0.12) // how much velocity wiggles over time
        });
      }

      if(prefersReduced){
        // keep them static-ish if user prefers reduced motion
        return;
      }

      // Animation loop
      let last = performance.now();
      function tick(now){
        const dt = Math.min(64, now - last); // ms, cap to avoid jumps
        last = now;
        const W = vw(), H = vh();
        for(const h of hearts){
          // gentle random acceleration to create organic motion
          h.vx += (rand(-1,1) * h.wiggleFactor) * (dt / 16);
          h.vy += (rand(-1,1) * h.wiggleFactor) * (dt / 16);

          // clamp velocity
          const vmax = 0.9;
          h.vx = clamp(h.vx, -vmax, vmax);
          h.vy = clamp(h.vy, -vmax, vmax);

          // update position
          h.x += h.vx * dt;
          h.y += h.vy * dt;

          // wrap-around so hearts always stay around the viewport
          const margin = 60;
          if(h.x < -margin) h.x = W + margin;
          if(h.x > W + margin) h.x = -margin;
          if(h.y < -margin) h.y = H + margin;
          if(h.y > H + margin) h.y = -margin;

          // gentle rotation change
          h.rot = (h.rot + h.spin * dt) % 360;

          // apply transform and position
          h.el.style.left = h.x + 'px';
          h.el.style.top = h.y + 'px';
          h.el.style.transform = `translate(-50%,-50%) rotate(${h.rot}deg) scale(${h.scale})`;
        }

        requestAnimationFrame(tick);
      }

      requestAnimationFrame(tick);

      // Recompute positions on resize to avoid hearts stuck out of bounds
      window.addEventListener('resize', () => {
        const W = vw(), H = vh();
        for(const h of hearts){
          h.x = clamp(h.x, 0, W);
          h.y = clamp(h.y, 0, H);
        }
      }, {passive:true});
    })();
  </script>
</body>
</html>
